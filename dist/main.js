!function(e){var t={};function o(r){if(t[r])return t[r].exports;var l=t[r]={i:r,l:!1,exports:{}};return e[r].call(l.exports,l,l.exports,o),l.l=!0,l.exports}o.m=e,o.c=t,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)o.d(r,l,function(t){return e[t]}.bind(null,l));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=0)}([function(e,t,o){"use strict";o.r(t);var r=(e,t,o,r,l)=>({title:e,description:t,date:o,priority:r,status:!1,project:l});var l=e=>{const t=[];return{title:e,addTodo:e=>t.push(e),getTodos:()=>t,deleteTodo:e=>t.splice(t.indexOf(e),1),updateTodo:(e,o)=>t.splice(t.indexOf(e),1,o)}};const n=e=>{let t=JSON.parse(localStorage.getItem(e)),o=[];if("projectList"==e)for(let e=0;e<t.length;e++){let r=l(t[e].title);o.push(r)}else for(let e=0;e<t.length;e++){let l=r(t[e].title,t[e].description,t[e].date,t[e].priority,t[e].project);o.push(l)}return o},d=(e,t)=>{const o=document.querySelector("#sidebar ul");c(o);for(let r=0;r<e.length;r++){let l=document.createElement("li");l.textContent=e[r].title,o.appendChild(l),l.addEventListener("click",()=>{i(e[r],t),a(e[r].getTodos()[0],t)})}let r=document.createElement("input");r.setAttribute("placeholder","+ Add New"),o.appendChild(r),r.addEventListener("keydown",t=>{if(13===t.keyCode){let t=l(r.value);e.push(t),localStorage.removeItem("projectList"),localStorage.setItem("projectList",JSON.stringify(e)),o.removeChild(r),d(e)}})},i=(e,t)=>{let o=document.querySelector("#main");c(o);const l=document.createElement("h2");l.textContent=e.title,o.appendChild(l);const n=document.createElement("ul");if(o.appendChild(n),e.getTodos().length>0){let o=e.getTodos();for(let e=0;e<o.length;e++){let r=document.createElement("li");r.textContent=o[e].title;let l=document.createElement("p");l.textContent=o[e].date,r.appendChild(l),n.appendChild(r),r.addEventListener("click",()=>{a(o[e],t)})}}let d=document.createElement("input");d.setAttribute("placeholder","+ Add Todo"),n.appendChild(d),d.addEventListener("keydown",o=>{if(13===o.keyCode){let o=r(d.value);o.project=e,e.addTodo(o),t.push(o),localStorage.removeItem("todoList"),localStorage.setItem("todoList",JSON.stringify(t)),n.removeChild(d),i(e,t),a(o,t)}})},a=(e,t)=>{const o=document.querySelector("#detail");if(c(o),e){let o=e.project,l=Object.getOwnPropertyNames(e),n=document.querySelector("#detail");for(let t=0;t<3;t++){let o=document.createElement("label");o.textContent=l[t].charAt(0).toUpperCase()+l[t].slice(1)+":",n.appendChild(o);let r=document.createElement("input");r.setAttribute("id",l[t]),null==e[l[t]]?r.setAttribute("placeholder","add "+l[t]):r.value=e[l[t]],n.appendChild(r)}let d=document.createElement("input");d.setAttribute("type","checkbox"),d.setAttribute("value","true"),d.addEventListener("click",e=>{d.hasAttribute("checked")?d.removeAttribute("checked"):d.setAttribute("checked","true")}),1==e.priority&&d.setAttribute("checked","true"),n.appendChild(d);let c=document.createElement("label");c.textContent="High Priority",n.appendChild(c);let s=document.createElement("button");s.textContent="Delete",s.setAttribute("type","button"),s.addEventListener("click",()=>{o.deleteTodo(e),t.splice(o.indexof(e),1),localStorage.removeItem("todoList"),localStorage.setItem("todoList",JSON.stringify(t)),i(o,t),a(o.getTodos()[0],t)});let u=document.createElement("button");u.textContent="Save",u.setAttribute("type","button"),u.addEventListener("click",()=>{let l;l=!!d.hasAttribute("checked");let n=r(title.value,description.value,date.value,l,o);o.updateTodo(e,n);let c=t.findIndex(t=>{if(t==e)return t});t.splice(c,1,n),localStorage.removeItem("todoList"),localStorage.setItem("todoList",JSON.stringify(t)),i(o,t),a(n,t)}),n.appendChild(s),n.appendChild(u)}else{const e=document.createElement("h2");e.textContent="Create a Todo to see details!",o.appendChild(e)}},c=e=>{let t=e.lastElementChild;for(;t;)e.removeChild(e.lastElementChild),t=e.lastElementChild};if((e=>{var t;try{t=window[e];var o="__storage_test__";return t.setItem(o,o),t.removeItem(o),!0}catch(e){return e instanceof DOMException&&(22===e.code||1014===e.code||"QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)&&t&&0!==t.length}})("localStorage")){localStorage.getItem("projectList")||(()=>{let e=[],t=[];const o=l("Clean the house"),n=l("Clean the garage");t.push(o),t.push(n);const d=r("Take out the trash","take out the trash","May 1",!0,o),i=r("Do the dishes","do the dishes","May 2",!1,o);e.push(d),e.push(i),localStorage.setItem("todoList",JSON.stringify(e)),localStorage.setItem("projectList",JSON.stringify(t))})();let e=n("projectList"),t=n("todoList");((e,t)=>{for(let o=0;o<e.length;o++)for(let r=0;r<t.length;r++)e[o].title==t[r].project.title&&(e[o].addTodo(t[r]),t[r].project=e[o])})(e,t),((e,t)=>{d(e,t),i(e[0],t),a(e[0].getTodos()[0],t)})(e,t)}}]);